if (activity_loaded[activity]==0) //On first page-load as opposed to change in filters
{
$('#Mentorings-Report').replaceWith('<%= escape_javascript(render "report") %>');
$('#visualizations_area').show();

activity_loaded[activity]=1; 
indicator[activity] = "0";

$('#indicator_name').html('Score on Lesson Plan Indicator 1');
$('.calendar_field').datepicker({dateFormat: "dd-mm-yy"});

<%= render_chart_define_chart indicator_combo_chart(@districts,@indicators[0][1][0],@collection_names,'auto'), 'visualization_div'%>
}
else //when only underlying dataset needs change
{
	$('#<%=@indicators[0][0]+"_table"%>').html('<%= escape_javascript(render @indicators[0][0].pluralize+"_table" ) %>');
}

<%= render "tab_controls" %>

$("table#overall_mentorings_dtable").dataTable( {
	"sDom": "<'row'<'span7'l><'span7'f>r>t<'row'<'span7'i><'span7'p>>",
	"sPaginationType": "bootstrap",
	"oLanguage": {"sLengthMenu": "_MENU_ records per page"},
	"aoColumnDefs": [{ "bSortable": false, "aTargets": [ 9 ] }],
	"bInfo": false,
	"bAutoWidth": false, //I need this to fix a bug between bootstrap-tab.js and datatables. Good times...
	"fnDrawCallback": function() {
		if (Math.ceil((this.fnSettings().fnRecordsDisplay()) / this.fnSettings()._iDisplayLength) > 1)  {
				$('.dataTables_paginate').css("display", "none");  
				$('.dataTables_length').css("display", "none");
				$('.dataTables_filter').css("display", "none");                        
		} else {
				$('.dataTables_paginate').css("display", "none");
				$('.dataTables_length').css("display", "none");
				$('.dataTables_filter').css("display", "none");
		}
	}
} );
  
loading_functions[activity][indicator[activity]][last_type]();