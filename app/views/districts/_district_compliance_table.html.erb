<table class="table table-bordered" id="district_compliance_dtable">
	<thead>
	<tr>
		<th colspan="1"></th>
		<th colspan="2"><center>Assessments</center></th>
		<th colspan="2"><center>Mentorings</center></th>
		<th colspan="2"><center>Sessions Attended</center></th>
		<th colspan="1"></th>
	</tr>
	<tr>
		<th> Name </th>
		<th><center> Expected</center> </th>
		<th> <center> Conducted </center></th>
		<th> <center> Expected</center></th>
		<th> <center> Conducted </center></th>
		<th> <center> PD PST </center></th>
		<th> <center> PD DTE </center></th>
		<th> <center> Actions </center> </th>
	</tr>
			</thead>
			<tbody>
				<% for visitor in @visitors %>
					<% a_count = visitor.assessments.where(:start_time=>(@start_time..@end_time.end_of_day)).count %>
					<% m_count = visitor.mentorings.where(:start_time=>(@start_time..@end_time.end_of_day)).count %>
					<% p_count = visitor.pd_psts.where(:start_time=>(@start_time..@end_time.end_of_day)).count %>
					<% d_count = visitor.pd_dtes.where(:start_time=>(@start_time..@end_time.end_of_day)).count %>
					<% if a_count < @temp_expectation_visits or m_count < @temp_expectation_visits or p_count < @temp_expectation_pd or d_count < @temp_expectation_pd %> 
						<tr class="fail">
					<% else %>
						<tr class="pass">
					<% end %>
						<td><%= visitor.name.titleize%> </td>
						<td class="center"><%= @temp_expectation_visits%> </td>
						<td class="center"<%= a_count < @temp_expectation_visits ? "fail" : "pass" %> ><%= a_count%> </td>
						<td class="center"><%= @temp_expectation_visits%> </td>
						<td class="center"<%= m_count < @temp_expectation_visits ? "fail" : "pass" %>><%= m_count%> </td>
						<td class="center"<%= p_count < @temp_expectation_pd ? "fail" : "pass" %>><%= p_count%> </td>
						<td class="center"<%= d_count < @temp_expectation_pd ? "fail" : "pass" %>><%= d_count%></td>
						<td class="center"><%= link_to "View Details", compliance_report_user_path(visitor) %> </td>
					</tr>
				<% end %>
			</tbody>
</table>
<br/>
<br/>