<ul class="breadcrumb">
  <li>
	<%= link_to "Punjab", compliance_report_province_path('punjab'), :method => :get %> <span class="divider">/</span>
  </li>
  <li class="active">
	<%= @district.name.titleize %>
  </li>
</ul>

<div class="page-header"> <h1> <%= @district.name.titleize %> <div id="visualization_type" class="pull-right" style="font-weight:normal;">Overall Barchart - Compliance Report</div></h1> </div>

<%= render  :partial => 'partials/compliance_controls', :locals => { :parent => @district} %>

	
	<div class="alert alert-info fade in" data-alert="alert">
		<a class="close" data-dismiss='alert' href="#">x</a>
		<div id="help_bar">
			This chart displays a <strong>snap-shot view</strong> of the <strong>total number of phone entries submitted</strong> by officers from each district as a <strong>percentage of the total number of phone entries expected</strong> from them (compliance). 
			A <strong>better compliance percentage</strong> shows that a district is achieving <strong>a quantitatively higher standard</strong> in it's phone-based reporting/monitoring activities.
		</div>
	</div>
<br/>
<hr>


<div id="chart_div" style="height: 1000px;"></div>
<br/>


<script type="text/javascript">

google.load("visualization", "1", {packages:["corechart"]});
google.setOnLoadCallback(drawChart);
function drawChart() {
	var test = <%= raw JSON.parse(@final_array.to_json) %>;
	console.log(test);
	var data = google.visualization.arrayToDataTable(test);

	var options = {
		height: 900,
		groupWidth: '100%',
		title: 'Graph',
		vAxis: {title: 'Visitors',  titleTextStyle: {color: 'red'}}
	};

	var chart = new google.visualization.BarChart(document.getElementById('chart_div'));
	chart.draw(data, options);
}
</script>